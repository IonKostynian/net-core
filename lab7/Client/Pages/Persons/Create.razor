@page "/person"
@using lab7.Client.Pages.Persons
@inject IPersonServices personService
@inject NavigationManager navigationManager
<h1>Create person</h1>
<EditForm Model="person" OnSubmit="CreatePerson">
  <div class="form-group row">
	  <label>Name</label>
	  <div class="col-sm-10">
		  <InputText @bind-Value="person.Name" />
	  </div>
  </div>
  <div class="form-group row">
		<label>Address</label>
		<div class="col-sm-10">
			<InputText @bind-Value="person.Address" />
		</div>
  </div>
   <div class="form-group row">
		<label>Phone Number</label>
		<div class="col-sm-10">
			<InputText @bind-Value="person.PhoneNumber" />
		</div>
  </div>
  <div class="form-group row">
		<label>Birthday</label>
		<div class="col-sm-10">
			<InputDate @bind-Value="person.Birthday"/>
		</div>
  </div>
  <div class="form-group row">
		<label>Ticket Number</label>
		<div class="col-sm-10">
			<InputNumber @bind-Value="person.TicketNumber"/>
		</div>
  </div>
  <DataAnnotationsValidator />
  <ValidationSummary />
  <div class="col-sm-10 pt-2">
	  <button type="submit">Add person</button>
  </div>
</EditForm>
@code {
	Person person = new Person();

	public async Task CreatePerson()
	{
		await personService.Create(person);
		navigationManager.NavigateTo("/persons");
	}
}
